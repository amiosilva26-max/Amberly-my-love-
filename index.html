<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For Amberly Valanka Fernandes</title>
    <style>
        :root { --pink: #ff4d6d; --dark: #590d22; --light: #fff0f3; }
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: var(--light); color: var(--dark); overflow: hidden; touch-action: manipulation; }
        .screen { position: absolute; width: 100%; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; transition: 0.5s; background: var(--light); z-index: 10; }
        .hidden { display: none !important; }
        .card { background: white; padding: 25px; width: 85%; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); border: 3px dashed var(--pink); box-sizing: border-box; }
        #display-img { max-width: 90%; max-height: 40vh; border: 5px solid white; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); margin-bottom: 15px; }
        .letter-content { width: 85%; max-height: 55vh; overflow-y: auto; background: white; padding: 20px; border-radius: 15px; border-left: 5px solid var(--pink); text-align: left; font-size: 0.9rem; line-height: 1.5; white-space: pre-line; box-sizing: border-box; }
        button { background: var(--pink); color: white; border: none; padding: 12px 25px; border-radius: 50px; font-size: 1rem; font-weight: bold; cursor: pointer; margin: 10px; }
        #gameCanvas { background: #87CEEB; width: 100vw; height: 50vh; display: block; border-top: 4px solid var(--pink); }
        #touch-zone { width: 100vw; height: 25vh; background: white; display: flex; align-items: center; justify-content: center; font-weight: bold; color: var(--pink); font-size: 1.2rem; }
    </style>
</head>
<body>

    <div id="screen-card" class="screen">
        <div class="card">
            <h1 style="color: var(--pink); font-size: 1.4rem;">Happy Valentine's Day</h1>
            <p>To: Amberly Valanka Fernandes</p>
            <button onclick="showSection('screen-slideshow')">Open üíå</button>
        </div>
    </div>

    <div id="screen-slideshow" class="screen hidden">
        <img id="display-img" src="Snapchat-1108914825.jpg">
        <p id="slide-text" style="font-size: 1rem; italic; padding: 0 15px;"></p>
        <button onclick="nextSlide()">Next ‚ù§Ô∏è</button>
    </div>

    <div id="screen-letter" class="screen hidden">
        <div class="letter-content">
            <h2 style="text-align:center">My Dearest Amberly,</h2>
            <p>To my first love and my ultimate foodie girl, Amberly Valanka Fernandes... (Your letter here)</p>
        </div>
        <button onclick="showSection('screen-proposal')">Continue...</button>
    </div>

    <div id="screen-proposal" class="screen hidden">
        <h1 style="font-size: 1.8rem;">Will you be my Valentine?</h1>
        <button onclick="respond('yes')">YES! ‚ù§Ô∏è</button>
        <button id="no-btn" onmouseover="moveNo()">NO üò≠</button>
    </div>

    <div id="screen-game" class="screen hidden">
        <div id="status-msg" style="padding: 10px; font-weight: bold; background: white; width: 100%;">Score: <span id="score">0</span> / 10</div>
        <canvas id="gameCanvas"></canvas>
        <div id="touch-zone">TAP TO JUMP!</div>
    </div>

    <div id="screen-video" class="screen hidden">
        <h1 style="color: var(--pink)">YOU FOUND ME! üèÜ ‚ù§Ô∏è</h1>
        <video id="finalVid" width="280" height="450" controls playsinline>
            <source src="Snapchat-746107905.mp4" type="video/mp4">
        </video>
        <p>I Love You Forever, Amberly!</p>
    </div>

    <script>
        const images = [
            { src: 'Snapchat-1108914825.jpg', msg: "The first time you stole my heart..." },
            { src: 'Snapchat-2038672580.jpg', msg: "My beautiful foodie girl!" },
            { src: 'Snapchat-359429037.jpg', msg: "I love our goofy moments." },
            { src: 'Snapchat-756657078.jpg', msg: "Every photo of you is my favorite." },
            { src: 'Snapchat-502016680.jpg', msg: "Amberly, you are amazing." }
        ];

        let currentSlide = 0;
        function nextSlide() {
            currentSlide++;
            if (currentSlide < images.length) {
                document.getElementById('display-img').src = images[currentSlide].src;
                document.getElementById('slide-text').innerText = images[currentSlide].msg;
            } else { showSection('screen-letter'); }
        }
        document.getElementById('slide-text').innerText = images[0].msg;

        function showSection(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
            if(id === 'screen-game') initGame();
        }

        function respond(type) {
            if(type === 'yes') {
                alert("Win the game to find me!");
                showSection('screen-game');
            }
        }

        function initGame() {
            const canvas = document.getElementById('gameCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight * 0.5;

            let score = 0;
            let gameSpeed = 5;
            let isGameOver = false;
            let finaleStarted = false;

            const myImg = new Image();
            myImg.src = 'Screenshot_2026-01-29-15-23-55-651_com.snapchat.android.jpg';
            
            let player = { x: 50, y: canvas.height - 80, w: 50, h: 50, dy: 0, jumpForce: 15, gravity: 0.8, grounded: false };
            let obstacles = [];
            let targetMe = { x: canvas.width + 200, y: canvas.height - 110, w: 80, h: 80 }; // Final target

            function spawnObstacle() {
                if(!isGameOver && score < 10) {
                    obstacles.push({ x: canvas.width + 50, y: canvas.height - 70, w: 40, h: 40 });
                    setTimeout(spawnObstacle, Math.random() * 1500 + 1000);
                }
            }

            function jump() {
                if(player.grounded) {
                    player.dy = -player.jumpForce;
                    player.grounded = false;
                }
            }

            document.getElementById('touch-zone').addEventListener('touchstart', (e) => { e.preventDefault(); jump(); });
            
            spawnObstacle();

            function update() {
                if(isGameOver) return;
                ctx.clearRect(0,0, canvas.width, canvas.height);

                // Grass
                ctx.fillStyle = "#2ecc71";
                ctx.fillRect(0, canvas.height - 30, canvas.width, 30);

                // Player Physics
                player.dy += player.gravity;
                player.y += player.dy;
                if(player.y > canvas.height - 80) { player.y = canvas.height - 80; player.grounded = true; }
                
                // Draw üíÉ
                ctx.font = "40px Arial";
                ctx.fillText("üíÉ", player.x, player.y + 40);

                // Obstacles üßç‚Äç‚ôÇÔ∏è
                obstacles.forEach((ob, i) => {
                    ob.x -= gameSpeed;
                    ctx.fillText("üßç‚Äç‚ôÇÔ∏è", ob.x, ob.y + 35);

                    // Collision with Obstacles
                    if(player.x < ob.x + 25 && player.x + 35 > ob.x && player.y < ob.y + 25 && player.y + 35 > ob.y) {
                        isGameOver = true;
                        alert("Try again! Get to 10 points! ‚ù§Ô∏è");
                        location.reload();
                    }
                    if(ob.x < -50) { 
                        obstacles.splice(i, 1); 
                        score++; 
                        document.getElementById('score').innerText = score;
                    }
                });

                // Finale Trigger
                if (score >= 10) {
                    finaleStarted = true;
                    document.getElementById('status-msg').innerText = "LOOK! THERE I AM! ‚ù§Ô∏è";
                    document.getElementById('status-msg').style.color = "red";
                    
                    // Move your image onto the screen
                    if (targetMe.x > canvas.width - 120) {
                        targetMe.x -= 2;
                    }

                    // Draw your image
                    if (myImg.complete) {
                        ctx.drawImage(myImg, targetMe.x, targetMe.y, targetMe.w, targetMe.h);
                    } else {
                        ctx.fillText("üôã‚Äç‚ôÇÔ∏è", targetMe.x, targetMe.y + 50);
                    }

                    // Win Collision (When she touches you)
                    if (player.x + player.w > targetMe.x + 10) {
                        isGameOver = true;
                        showSection('screen-video');
                        document.getElementById('finalVid').play();
                    }
                }

                requestAnimationFrame(update);
            }
            update();
        }
    </script>
</body>
</html>
