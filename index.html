<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>For Amberly Valanka Fernandes</title>

<style>
:root { --pink:#ff4d6d; --dark:#590d22; --light:#fff0f3; }

body{
margin:0;
font-family:'Segoe UI',sans-serif;
background:var(--light);
color:var(--dark);
overflow:hidden;
touch-action:manipulation;
}

.screen{
position:absolute;
width:100%;
height:100vh;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
text-align:center;
transition:0.5s;
background:var(--light);
z-index:10;
}

.hidden{display:none!important;}

.card{
background:white;
padding:25px;
width:85%;
border-radius:20px;
box-shadow:0 10px 30px rgba(0,0,0,0.1);
border:3px dashed var(--pink);
box-sizing:border-box;
}

#display-img{
max-width:90%;
max-height:40vh;
border:5px solid white;
border-radius:10px;
box-shadow:0 5px 15px rgba(0,0,0,0.2);
margin-bottom:15px;
}

.letter-content{
width:85%;
max-height:55vh;
overflow-y:auto;
background:white;
padding:20px;
border-radius:15px;
border-left:5px solid var(--pink);
text-align:left;
font-size:0.9rem;
line-height:1.5;
white-space:pre-line;
}

button{
background:var(--pink);
color:white;
border:none;
padding:12px 25px;
border-radius:50px;
font-size:1.1rem;
font-weight:bold;
cursor:pointer;
margin:10px;
box-shadow:0 4px 10px rgba(255,77,109,0.3);
}

#no-btn{background:#555;position:relative;}
.restart-btn{background:#555;font-size:0.9rem;padding:8px 15px;}
.surprise-btn{background:#ff0054;font-size:1.5rem;padding:20px 40px;}

#gameCanvas{
background:#87CEEB;
width:100vw;
height:50vh;
display:block;
border-top:4px solid var(--pink);
}

#touch-zone{
width:100vw;
height:25vh;
background:white;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
font-weight:bold;
color:var(--pink);
font-size:1.2rem;
}
</style>
</head>

<body>

<!-- CARD -->
<div id="screen-card" class="screen">
<div class="card">
<h1 style="color:var(--pink)">Happy Valentine's Day</h1>
<p>To: Amberly Valanka Fernandes</p>
<button onclick="showSection('screen-slideshow')">Open üíå</button>
</div>
</div>

<!-- SLIDES -->
<div id="screen-slideshow" class="screen hidden">
<img id="display-img" src="Snapchat-1108914825.jpg">
<p id="slide-text"></p>
<button onclick="nextSlide()">Next ‚ù§Ô∏è</button>
</div>

<!-- LETTER -->
<div id="screen-letter" class="screen hidden">
<div class="letter-content">
<h2 style="text-align:center">My Dearest Amberly</h2>
You are my first love and my favorite foodie girl.
Every laugh, every goofy moment, every photo of you
makes my life brighter.

I love you more than pizza and chocolate combined ‚ù§Ô∏è
</div>
<button onclick="showSection('screen-proposal')">Continue</button>
</div>

<!-- PROPOSAL -->
<div id="screen-proposal" class="screen hidden">
<h1 id="proposal-title">Will you be my Valentine?</h1>
<button onclick="respond()">YES ‚ù§Ô∏è</button>
<button id="no-btn" onclick="handleNo()">NO üò≠</button>
</div>

<!-- GAME -->
<div id="screen-game" class="screen hidden">
<div style="padding:10px;font-weight:bold;background:white;width:100%;display:flex;justify-content:space-around;">
Score: <span id="score">0</span>/10
<button class="restart-btn hidden" id="mini-restart" onclick="resetGame()">Try Again</button>
</div>

<canvas id="gameCanvas"></canvas>

<div id="touch-zone" onclick="jump()">TAP TO JUMP</div>
</div>

<!-- SURPRISE BUTTON -->
<div id="screen-surprise-btn" class="screen hidden">
<h1 style="color:var(--pink)">We belong together ‚ù§Ô∏è</h1>
<button class="surprise-btn" onclick="playVideo()">OPEN SURPRISE üéÅ</button>
</div>

<!-- VIDEO -->
<div id="screen-video" class="screen hidden">
<video id="finalVid"
controls
playsinline
preload="auto"
style="max-height:70vh;border-radius:15px;background:black;">
<source src="surprise.mp4" type="video/mp4">
</video>

<button onclick="location.reload()">Restart ‚ù§Ô∏è</button>
</div>

<script>
const slides=[
{src:'Snapchat-1108914825.jpg',msg:'You stole my heart'},
{src:'Snapchat-2038672580.jpg',msg:'My foodie queen'},
{src:'Snapchat-359429037.jpg',msg:'Our goofy love'},
{src:'Snapchat-756657078.jpg',msg:'Every photo = favorite'},
{src:'Snapchat-502016680.jpg',msg:'You are amazing'}
];

let slide=0;
document.getElementById("slide-text").innerText=slides[0].msg;

function showSection(id){
document.querySelectorAll(".screen").forEach(s=>s.classList.add("hidden"));
document.getElementById(id).classList.remove("hidden");

if(id==="screen-game") initGame();
}

function nextSlide(){
slide++;
if(slide<slides.length){
document.getElementById("display-img").src=slides[slide].src;
document.getElementById("slide-text").innerText=slides[slide].msg;
}else showSection("screen-letter");
}

let noCount=0;
function handleNo(){
const btn=document.getElementById("no-btn");
btn.style.position="absolute";
btn.style.left=Math.random()*70+"vw";
btn.style.top=Math.random()*70+"vh";
noCount++;
if(noCount>5){
btn.innerText="Fine‚Ä¶ YES ‚ù§Ô∏è";
btn.onclick=respond;
btn.style.background="var(--pink)";
}
}

function respond(){
const v=document.getElementById("finalVid");
v.pause();
v.currentTime=0;
v.load();
showSection("screen-game");
}

function playVideo(){
const v=document.getElementById("finalVid");
showSection("screen-video");
v.play().catch(()=>alert("Tap play ‚ñ∂"));
}

/* ===== SIMPLE GAME ===== */
let canvas,ctx,player,obs=[],score=0,gameOver=false;

function initGame(){
canvas=document.getElementById("gameCanvas");
ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight*0.5;
resetGame();
update();
spawn();
}

function resetGame(){
score=0;obs=[];gameOver=false;
document.getElementById("score").innerText=0;
player={x:50,y:canvas.height-80,dy:0};
}

function spawn(){
if(!gameOver){
obs.push({x:canvas.width,y:canvas.height-70});
}
setTimeout(spawn,1500);
}

function jump(){
if(player.y>=canvas.height-80) player.dy=-15;
}

function update(){
ctx.clearRect(0,0,canvas.width,canvas.height);

player.dy+=1;
player.y+=player.dy;
if(player.y>canvas.height-80) player.y=canvas.height-80;

ctx.font="40px Arial";
ctx.fillText("üíÉ",player.x,player.y+40);

obs.forEach((o,i)=>{
o.x-=5;
ctx.fillText("üßç",o.x,o.y+35);

if(player.x<o.x+30 && player.x+30>o.x && player.y<o.y+30){
gameOver=true;
document.getElementById("mini-restart").classList.remove("hidden");
}

if(o.x<-50){
obs.splice(i,1);
score++;
document.getElementById("score").innerText=score;
}
});

if(score>=10 && !gameOver){
gameOver=true;
setTimeout(()=>showSection("screen-surprise-btn"),1000);
}

requestAnimationFrame(update);
}
</script>

</body>
</html>
