     <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Game</title>

<style>
body{
margin:0;
font-family:sans-serif;
background:#fff0f3;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
height:100vh;
}

canvas{
background:#87CEEB;
border-radius:10px;
box-shadow:0 0 20px rgba(0,0,0,0.2);
}

#ui{
margin-top:10px;
font-size:20px;
font-weight:bold;
}

button{
margin-top:10px;
padding:12px 25px;
font-size:18px;
border:none;
border-radius:30px;
background:#ff4d6d;
color:white;
cursor:pointer;
}

.hidden{display:none;}
</style>
</head>

<body>

<canvas id="game" width="600" height="300"></canvas>

<div id="ui">
Score: <span id="score">0</span>
</div>

<button id="jumpBtn">JUMP</button>
<button id="restartBtn" class="hidden">Restart</button>

<script>

const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

let score=0;
let speed=4;
let running=true;

const scoreText=document.getElementById("score");
const restartBtn=document.getElementById("restartBtn");

const jumpSound=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-arcade-jump-coin-216.wav");
const hitSound=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-retro-arcade-lose-2027.wav");

const playerImg=new Image();
playerImg.src="";

let player={
x:60,
y:215,
w:40,
h:40,
dy:0,
gravity:0.7,
jump:13,
grounded:true
};

let obstacles=[];
let boosters=[];

function spawnObstacle(){
if(!running) return;

obstacles.push({
x:620,
y:215,
w:35,
h:45
});

setTimeout(spawnObstacle,1200+Math.random()*1500);
}

function spawnBooster(){
if(!running) return;

boosters.push({
x:620,
y:150,
w:30,
h:30
});

setTimeout(spawnBooster,6000);
}

function jump(){
if(player.grounded && running){
player.dy=-player.jump;
player.grounded=false;
jumpSound.currentTime=0;
jumpSound.play();
}
}

document.getElementById("jumpBtn").onclick=jump;
window.addEventListener("keydown",e=>{
if(e.code==="Space") jump();
});

function collide(a,b){
return a.x<a.x+a.w &&
a.x+a.w>b.x &&
a.y<b.y+b.h &&
a.y+a.h>b.y;
}

function gameOver(){
running=false;
hitSound.play();
restartBtn.classList.remove("hidden");
}

restartBtn.onclick=()=>{
location.reload();
};

function update(){
try{

ctx.clearRect(0,0,600,300);

ctx.fillStyle="#2ecc71";
ctx.fillRect(0,260,600,40);

player.dy+=player.gravity;
player.y+=player.dy;

if(player.y>215){
player.y=215;
player.grounded=true;
}

if(playerImg.complete && playerImg.naturalWidth!==0){
ctx.drawImage(playerImg,player.x,player.y,player.w,player.h);
}else{
ctx.fillStyle="red";
ctx.fillRect(player.x,player.y,player.w,player.h);
}

obstacles.forEach((o,i)=>{
o.x-=speed;

ctx.fillStyle="#333";
ctx.fillRect(o.x,o.y,o.w,o.h);

if(player.x<o.x+o.w &&
player.x+player.w>o.x &&
player.y<o.y+o.h &&
player.y+player.h>o.y){
gameOver();
}

if(o.x<-50){
obstacles.splice(i,1);
score++;
scoreText.innerText=score;

if(score%5===0) speed+=0.5;
}
});

boosters.forEach((b,i)=>{
b.x-=speed;

ctx.font="24px Arial";
ctx.fillText("ðŸ’‹",b.x,b.y);

if(player.x<b.x+25 &&
player.x+player.w>b.x &&
player.y<b.y+25 &&
player.y+player.h>b.y){

boosters.splice(i,1);
speed=2.5;

setTimeout(()=>{
speed=4+score*0.1;
},3000);
}
});

if(running) requestAnimationFrame(update);

}catch(err){
console.log(err);
requestAnimationFrame(update);
}
}

spawnObstacle();
spawnBooster();
update();

</script>

</body>
</html>               
